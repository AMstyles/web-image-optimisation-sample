const images=["one","two","three","four","five"];let currentIndex=0,revealed=!1,isJpgFirst=!0;const img1=document.getElementById("img1"),img2=document.getElementById("img2"),label1=document.getElementById("label1"),label2=document.getElementById("label2"),comparisonInfo=document.getElementById("comparisonInfo");async function getFileSize(e){let t=await fetch(e,{method:"HEAD"});return t.headers.get("content-length")}function loadImagePair(){let e=images[currentIndex];(isJpgFirst=.5>Math.random())?(img1.src=`./images/${e}.jpg`,img2.src=`./images-webp/${e}.webp`):(img1.src=`./images-webp/${e}.webp`,img2.src=`./images/${e}.jpg`),label1.innerText="",label2.innerText="",comparisonInfo.innerHTML="",revealed=!1,document.getElementById("revealButton").innerText="Reveal Formats and Sizes"}async function revealAndCompare(){let e=images[currentIndex];if(revealed)currentIndex=(currentIndex+1)%images.length,loadImagePair();else{let t=await getFileSize(`./images/${e}.jpg`),n=await getFileSize(`./images-webp/${e}.webp`),a=((t-n)/t*100).toFixed(2);isJpgFirst?(label1.innerText=`JPG (${(t/1024).toFixed(2)} KB)`,label2.innerText=`WebP (${(n/1024).toFixed(2)} KB)`):(label1.innerText=`WebP (${(n/1024).toFixed(2)} KB)`,label2.innerText=`JPG (${(t/1024).toFixed(2)} KB)`),comparisonInfo.innerHTML=`
      <p class="reduction"><strong>Size Reduction:</strong> ${a}%</p>
      <p>You're probably cheating because <strong>webp always load faster!ðŸ˜…ðŸš€</strong></p>
    `,revealed=!0,document.getElementById("revealButton").innerText="Next Image"}}loadImagePair(),document.getElementById("revealButton").addEventListener("click",revealAndCompare);